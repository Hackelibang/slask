#!/bin/bash

# To update hostname in HE.net DDNS
# For tunnelbroker
# From https://dns.he.net/

# Read password and domain from ~/etc/dyndns.conf
domain=
password=
<--
http://[your domain name]:[your password]@dyn.dns.he.net/nic/update?hostname=[your domain name]

Autodetect my IPv4/IPv6 address:
% curl -4 "http://${domain}:${password}@dyn.dns.he.net/nic/update?hostname=${domain}"
% curl -6 "http://${domain}:${password}@dyn.dns.he.net/nic/update?hostname=${domain}"

Specify my IPv4/IPv6 address:
% curl "http://${domain}:${password}@dyn.dns.he.net/nic/update?hostname=${domain}&myip=192.168.0.1"
% curl "http://${domain}:${password}@dyn.dns.he.net/nic/update?hostname=${domain}&myip=2001:db8:beef:cafe::1"


Here are a couple more examples that allow sending the password in the URL

Note: The username is also the hostname. The password is sent using 'password='. This skips HTTP basic auth.

Authentication and Updating using GET
% curl "https://dyn.dns.he.net/nic/update?hostname=${domain}&password=${password}&myip=192.168.0.1"
% curl "https://dyn.dns.he.net/nic/update?hostname=${domain}&password=${password}&myip=2001:db8:beef:cafe::1"

Authentication and Updating using a POST
% curl "https://dyn.dns.he.net/nic/update" -d "hostname=${domain}" -d "password=${password}" -d "myip=192.168.0.1"
% curl "https://dyn.dns.he.net/nic/update" -d "hostname=${domain}" -d "password=${password}" -d "myip=2001:db8:beef:cafe::1"

-->
